{
    "$schema": "http://json-schema.org/draft-07/schema",
    "type": "object",
    "description": "The root object.",
    "properties": {
        "$schema": true,
        "type": {
            "type": "string",
            "description": "Defines the type of this Color Generator.",
            "oneOf": [
                {
                    "const": "random",
                    "description": "The colors are generated randomly from the pool."
                },
                {
                    "const": "nearEnd",
                    "description": "The colors are generated based on which colors are in proximity of a Path's endpoint."
                }
            ]
        },
        "hasToExist": {
            "type": "boolean",
            "description": "Required if type is \"random\". Whether in order for a color to be generated it needs to already exist on the board.",
            "markdownDescription": "Required if type is `random`. Whether in order for a color to be generated it needs to already exist on the board."
        },
        "selectChance": {
            "type": "number",
            "exclusiveMinimum": 0,
            "maximum": 1,
            "description": "Required if type is \"nearEnd\". The chance for a ball's color to be selected for the next generation, starting from the frontmost sphere on a randomly chosen path.",
            "markdownDescription": "Required if type is `nearEnd`. The chance for a ball's color to be selected for the next generation, starting from the frontmost sphere on a randomly chosen path."
        },
        "pathsInDangerOnly": {
            "type": "boolean",
            "description": "Required if type is \"nearEnd\". Whether only paths in danger should be taken into account when generating colors. If no path is in danger, a random path is selected as if this was set to false.",
            "markdownDescription": "Required if type is `nearEnd`. Whether only paths in danger should be taken into account when generating colors. If no path is in danger, a random path is selected as if this was set to `false`."
        },
        "colors": {
            "type": "array",
            "description": "A list of colors which can be ever generated by this generator.",
            "items": {
                "type": "integer",
                "description": "A single sphere ID."
            }
        },
        "fallback": {
            "description": "What should be generated when this generator fails.",
            "oneOf": [
                {
                    "type": "integer",
                    "description": "The color to be generated when this generator fails."
                },
                {
                    "$ref": "#",
                    "description": "Another Color Generator to be used when this generator fails."
                }
            ]
        },
        "colorsRemoveIfNonexistent": {
            "type": "array",
            "description": "A list of colors which will be removed from the Shooter if no instances of that color are present on the board.",
            "items": {
                "type": "integer",
                "description": "A single sphere ID."
            }
        }
    },
    "required": [
        "type",
        "colors",
        "fallback"
    ],
    "additionalProperties": false
}